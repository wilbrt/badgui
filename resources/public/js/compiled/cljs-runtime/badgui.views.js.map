{"version":3,"sources":["badgui/views.cljs"],"mappings":";AAQA,+BAAA,/BAAMA,sEAAiBC;AAAvB,AACE,IAAMC,IAAE,AAAA,yFAAUD;IACZE,IAAE,AAAA,0FAAUF;AADlB,AAAA,0FAAA,qDAAA,2CAAA,0JAAA,mFAAA,iDAAA,mFAAA,iDAAA,2CAAA,6DAAA,tdAEe,yFAAA,xFAAK,AAAA,8EAAIA;AAFxB,AAGyB,8BAAA,mFAAA,1GAACG,2LAAkC,AAAA,mFAAOF;sJAHnE,mFAAA,sMAAA,mFAAA,+EAAA,mFAAA,iDAAA,mFAAA,iDAAA,2CAAA,6DAAA,t7BAGyE,4CAAK,AAAA,mFAAOA,6IACxE,4CAAK,AAAA,wFAASA,uKACZ;AALf,AAMyB,8BAAA,mFAAA,1GAACE,2LAAkC,AAAA,mFAAOD;sJANnE,mFAAA,9NAMyE,4CAAK,AAAA,mFAAOA,6IACxE,4CAAK,AAAA,wFAASA;;AAE7B,wBAAA,xBAAME,wDAAUC;AAAhB,AAAA,0FAAA,mDAAA,mFAAA,4NAAA,mFAAA,kOAAA,mFAAA,njBAEQ,uIAAA,1FAAK,AAAA,mFAAOA,4KACb,CAAA,qEAA8B,AAAA,qFAAQA,0JACtC,CAAA,gBAAqB,4CAAK,AAAA,kGAAcA;;AAE/C,0BAAA,1BAAMC;AAAN,AACE,IAAMC,OAAK,sDAAA,mFAAA,zIAACC;IACNC,UAAQ,sDAAA,mFAAA,zIAACD;IACTE,UAAQ,sDAAA,mFAAA,zIAACF;IACTG,SAAO,sDAAA,mFAAA,zIAACH;IACRI,UAAQ,sDAAA,mFAAA,zIAACJ;IACTK,MAAI,sDAAA,mFAAA,zIAACL;AALX,AAAA,0FAAA,mDAAA,2CAAA,uDAAA,iBAAA,mFAAA,kDAAA,sBAAA,mFAAA,yDAAA,2CAAA,6DAAA;AAAA,AASyB,8BAAA,mFAAA,1GAACL;WAT1B,eAAA,mFAAA,yDAAA,2CAAA,6DAAA;AAAA,AAUyB,8BAAA,mFAAA,0FAAA,AAAAW,pMAACX,oNAAwCQ;WAVlE,wBAAA,mFAAA,kDAAA,mFAAA,6DAAA,mFAAA,iDAAA,2CAAA,uDAAA,iBAAA,wBAAA,mFAAA,kDAAA,mFAAA,iDAAA,mBAAA,mFAAA,gEAAA,YAAA,mFAAA,iDAAA,2BAiBG,4CAAA,WAAAI,vDAACC;AAAD,AAAM,OAACjB,6BAAgB,iBAAAgB,jBAACE;qCAjB3B,mFAAA,yDAAA,mFAAA,8CAAA,2CAAA,uDAAA,2HAAA,mFAAA,oIAAA,mFAAA,iDAAA,2CAAA,uDAAA,iBAAA,uBAAA,mFAAA,kDAAA,mFAAA,iDAAA,mBAAA,mFAAA,gEAAA,YAAA,mFAAA,iDAAA,hjDAiBG,AAAAH,gBAAoCF,kZAEV,kBAAA,AAAAE,sBAAA,4CAAA,lDAAOD,MAAK,sBAAA,AAAAC,tBAACV,sCAAUS,4KACtC,kBAAA,AAAAC,0BAAA,AAAA,aAAA,vBAAOL,64BAKnB,yEAAA,AAAAK,zEAACE,4CAAIjB,6CAAiBW","names":["badgui.views/display-results","result","a","b","re-frame.core/dispatch","badgui.views/hoverbox","info","badgui.views/main-panel","name","re_frame.core.subscribe","loading","results","cursor","ongoing","box","cljs.core/deref","p1__41866#","cljs.core.map","cljs.core/second"],"sourcesContent":["(ns badgui.views\r\n  (:require\r\n   [re-frame.core :as re-frame]\r\n   [badgui.events :as events]\r\n   [badgui.subs :as subs]))\r\n\r\n\r\n\r\n(defn display-results [result]\r\n  (let [a (:playerA result)\r\n        b (:playerB result)]\r\n    [:tr.b {:key (int (:t result))}\r\n     [:td [:h3 {:on-click #(re-frame/dispatch [::events/boxit (:name a)])} (str (:name a))]\r\n           [:p (str (:played a))]]\r\n     [:td.versus (str \" VS \")]\r\n     [:td [:h3 {:on-click #(re-frame/dispatch [::events/boxit (:name b)])} (str (:name b))]\r\n           [:p (str (:played b))]]]))\r\n\r\n(defn hoverbox [info]\r\n  [:div\r\n   [:h3 (str (:name info) \"'s statitistics\")]\r\n   [:p (str \"Total matches played: \" (:total info))]\r\n   [:p (str \"Most played: \" (str (:most-played info)))]])\r\n\r\n(defn main-panel []\r\n  (let [name (re-frame/subscribe [::subs/name])\r\n        loading (re-frame/subscribe [::subs/loading])\r\n        results (re-frame/subscribe [::subs/results])\r\n        cursor (re-frame/subscribe [::subs/cursor])\r\n        ongoing (re-frame/subscribe [::subs/ongoing])\r\n        box (re-frame/subscribe [::subs/box])]\r\n    [:div {:align \"center\"}\r\n     [:h1\r\n      \"Game viewer\"]\r\n      [:button {:on-click #(re-frame/dispatch [::events/fetch-results])} \"Boom\"]\r\n      [:button {:on-click #(re-frame/dispatch [::events/fetch-next @cursor])} \"Get Next Page\"]\r\n    [:tr\r\n        [:td.listl\r\n        [:h3 {:align \"center\"} \"Ongoing Games\"]\r\n         [:tr [:th \"Player A\"]\r\n              [:th.versus \" \"]\r\n              [:th \"Player B\"]]\r\n     (map #(display-results (second %)) @ongoing)]\r\n        [:td.box\r\n         [:p {:align \"center\"} (when @box  (hoverbox @box))]]\r\n     [:td.listr (when @loading \"Loading...\")]\r\n     [:h3 {:align \"center\"} \"Game History\"]\r\n     [:tr [:th \"Player A\"]\r\n          [:th.versus \" \"]\r\n          [:th \"Player B\"]]\r\n    (map display-results @results)]]))\r\n"]}