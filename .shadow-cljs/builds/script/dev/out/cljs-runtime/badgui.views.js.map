{"version":3,"sources":["badgui/views.cljs"],"mappings":";AAQA,+BAAA,/BAAMA,sEAAiBC;AAAvB,AACE,IAAMC,IAAE,AAAA,yFAAUD;IACZE,IAAE,AAAA,0FAAUF;AADlB,AAAA,0FAAA,uDAAA,2CAAA,uHAAA,mFAAA,iDAAA,mFAAA,iDAAA,2CAAA,6DAAA,nbAEgB,+CAAA,/CAACG;AAFjB,AAGyB,8BAAA,mFAAA,1GAACC,2LAAkC,AAAA,mFAAOH;sJAHnE,mFAAA,sMAAA,mFAAA,+EAAA,mFAAA,iDAAA,mFAAA,iDAAA,2CAAA,6DAAA,t7BAGyE,4CAAK,AAAA,mFAAOA,6IACxE,4CAAK,AAAA,wFAASA,uKACZ;AALf,AAMyB,8BAAA,mFAAA,1GAACG,2LAAkC,AAAA,mFAAOF;sJANnE,mFAAA,9NAMyE,4CAAK,AAAA,mFAAOA,6IACxE,4CAAK,AAAA,wFAASA;;AAE7B,wBAAA,xBAAMG,wDAAUC;AAAhB,AAAA,0FAAA,mDAAA,mFAAA,4NAAA,mFAAA,8OAAA,mFAAA,wNAAA,mFAAA,12BAEQ,uIAAA,1FAAK,AAAA,mFAAOA,4KACb,CAAA,qEAA8B,AAAA,iGAAcA,0JAC5C,CAAA,wDAAiB,AAAA,wFAAUA,0JAC3B,CAAA,gBAAqB,4CAAK,AAAA,gGAAaA;;AAG9C,0BAAA,1BAAMC;AAAN,AACE,IAAMC,UAAQ,sDAAA,mFAAA,zIAACC;IACTC,UAAQ,sDAAA,mFAAA,zIAACD;IACTE,SAAO,sDAAA,mFAAA,zIAACF;IACRG,UAAQ,sDAAA,mFAAA,zIAACH;IACTI,MAAI,sDAAA,mFAAA,zIAACJ;AAJX,AAAA,0FAAA,mDAAA,2CAAA,uDAAA,iBAAA,mFAAA,kDAAA,2CAAA,uDAAA,iBAAA,sBAAA,mFAAA,gJAAA,mFAAA,4DAAA,mFAAA,iDAAA,2CAAA,uDAAA,iBAAA,wBAAA,mFAAA,mDAAA,mFAAA,iDAAA,mBAAA,mFAAA,gEAAA,YAAA,mFAAA,iDAAA,hkCAQM,kBAAA,AAAAK,sBAAA,4CAAA,lDAAOD,MAAK,sBAAA,AAAAC,tBAACT,sCAAUQ,6gCAM1B,4CAAA,WAAAE,vDAACC;AAAD,AAAM,OAACjB,6BAAgB,iBAAAgB,jBAACE;6BAd3B,mFAAA,yDAAA,mFAAA,8CAAA,2CAAA,uDAAA,iCAAA,mFAAA,7fAcG,AAAAH,gBAAoCF,0iBAGzB,kBAAA,AAAAE,0BAAA,AAAA,aAAA,vBAAON","names":["badgui.views/display-results","result","a","b","cljs.core.gensym","re-frame.core/dispatch","badgui.views/hoverbox","info","badgui.views/main-panel","loading","re_frame.core.subscribe","results","cursor","ongoing","box","cljs.core/deref","p1__35080#","cljs.core.map","cljs.core/second"],"sourcesContent":["(ns badgui.views\r\n  (:require\r\n   [re-frame.core :as re-frame]\r\n   [badgui.events :as events]\r\n   [badgui.subs :as subs]))\r\n\r\n\r\n\r\n(defn display-results [result]\r\n  (let [a (:playerA result)\r\n        b (:playerB result)]\r\n    [:div.b {:key (gensym \"on-going\")}\r\n     [:td [:h3 {:on-click #(re-frame/dispatch [::events/boxit (:name a)])} (str (:name a))]\r\n           [:p (str (:played a))]]\r\n     [:td.versus (str \" VS \")]\r\n     [:td [:h3 {:on-click #(re-frame/dispatch [::events/boxit (:name b)])} (str (:name b))]\r\n           [:p (str (:played b))]]]))\r\n\r\n(defn hoverbox [info]\r\n  [:div\r\n   [:h3 (str (:name info) \"'s statitistics\")]\r\n   [:p (str \"Total matches played: \" (:gamesplayed info))]\r\n   [:p (str \"Winrate: \" (:winrate info))]\r\n   [:p (str \"Most played: \" (str (:mostplayed info)))]])\r\n\r\n\r\n(defn main-panel []\r\n  (let [loading (re-frame/subscribe [::subs/loading])\r\n        results (re-frame/subscribe [::subs/results])\r\n        cursor (re-frame/subscribe [::subs/cursor])\r\n        ongoing (re-frame/subscribe [::subs/ongoing])\r\n        box (re-frame/subscribe [::subs/box])]\r\n    [:div {:align \"center\"}\r\n     [:h1 {:align \"center\"}\r\n      \"Game viewer\"]\r\n    [:p (when @box  (hoverbox @box))]\r\n        [:td.head\r\n        [:h3 {:align \"center\"} \"Ongoing Games\"]\r\n         [:div [:th \"Player A\"]\r\n              [:th.versus \" \"]\r\n              [:th \"Player B\"]]\r\n     (map #(display-results (second %)) @ongoing)\r\n        [:td.box\r\n         [:p {:align \"center\"}]]\r\n     [:td.listr (when @loading \"Loading...\")]]]))\r\n"]}